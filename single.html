<!DOCTYPE html><html lang="en"><head><meta charset="utf-8"><meta name="viewport" content="width=device-width, user-scalable=no, initial-scale=1.0, maximum-scale=1.0, minimum-scale=1.0"><meta http-equiv="X-UA-Compatible" content="ie=edge"><title>Starfield WebGL (Single Frame)</title><link rel="stylesheet" href="/index.887cf98f.css"><meta name="msapplication-TileColor" content="#000000"><meta name="theme-color" content="#000000"></head><body> <a id="gh-badge" href="https://github.com/lfuelling/starfield-webgl"><img width="149" height="149" src="/badge.2ecf0369.png" alt="Fork starfield-webgl on GitHub"></a> <a href="/index.html">Dynamic Version</a> <noscript>This page requires JavaScript :/</noscript>  <script type="module">function e(e,t,r,n){Object.defineProperty(e,t,{get:r,set:n,enumerable:!0,configurable:!0})}function t(e){return e&&e.__esModule?e.default:e}var r=globalThis,n={},o={},a=r.parcelRequire94c2;null==a&&((a=function(e){if(e in n)return n[e].exports;if(e in o){var t=o[e];delete o[e];var r={id:e,exports:{}};return n[e]=r,t.call(r.exports,r,r.exports),r.exports}var a=Error("Cannot find module '"+e+"'");throw a.code="MODULE_NOT_FOUND",a}).register=function(e,t){o[e]=t},r.parcelRequire94c2=a);var i=a.register;i("kOHZq",function(t,r){e(t.exports,"drawFrame",()=>a("lnQc8").drawFrame),e(t.exports,"initBuffers",()=>a("lga8S").initBuffers),e(t.exports,"generateStars",()=>a("lEXuz").generateStars),e(t.exports,"generateCanvas",()=>a("12ABJ").generateCanvas),e(t.exports,"runStarfield",()=>a("ijrJt").runStarfield),e(t.exports,"DEFAULT_STARFIELD_OPTIONS",()=>a("1WOp8").DEFAULT_STARFIELD_OPTIONS),a("6dOSk"),a("1WOp8"),a("lnQc8"),a("12ABJ"),a("lEXuz"),a("lga8S"),a("ijrJt")}),i("6dOSk",function(t,r){e(t.exports,"DEFAULT_STARFIELD_OPTIONS",()=>a("1WOp8").DEFAULT_STARFIELD_OPTIONS),e(t.exports,"runStarfield",()=>a("ijrJt").runStarfield),e(t.exports,"generateCanvas",()=>a("12ABJ").generateCanvas),e(t.exports,"generateStars",()=>a("lEXuz").generateStars),e(t.exports,"initBuffers",()=>a("lga8S").initBuffers),e(t.exports,"drawFrame",()=>a("lnQc8").drawFrame),a("1WOp8"),a("ijrJt"),a("flxAq"),a("12ABJ"),a("lEXuz"),a("lga8S"),a("lnQc8")}),i("1WOp8",function(t,r){e(t.exports,"COORDINATE_LENGTH",()=>n),e(t.exports,"MOVEMENT_X",()=>o),e(t.exports,"MOVEMENT_Y",()=>a),e(t.exports,"DEFAULT_STARFIELD_OPTIONS",()=>i),e(t.exports,"normalize",()=>l);let n=5e3,o=.12,a=.04,i={starDensity:1,mouseScale:1,seedMovement:!0,fpsLimit:30,antialiasing:!0},l=(e,t,r,n=-1,o=1)=>(e-t)/(r-t)*(o-n)+n}),i("ijrJt",function(t,r){e(t.exports,"runStarfield",()=>c),a("flxAq");var n=a("12ABJ"),o=a("lnQc8"),i=a("lga8S"),l=a("1WOp8"),s=a("lEXuz");let c=e=>{let t={...l.DEFAULT_STARFIELD_OPTIONS,...e},r=(0,n.generateCanvas)(),a=(0,i.initBuffers)(r,t),c=Date.now(),g=(0,s.generateStars)(t,r.clientHeight,r.clientWidth),A=0,f=()=>{requestAnimationFrame(e=>{var r;r=e-A,(t.fpsLimit<=0||!(r<1e3/(t.fpsLimit+1)))&&("function"==typeof t.onBeforeDraw&&t.onBeforeDraw(),A=e,g.forEach(e=>e.move(c)),c=Date.now(),(0,o.drawFrame)(g,a),"function"==typeof t.onAfterDraw&&t.onAfterDraw()),f()})};f()}}),i("flxAq",function(t,r){e(t.exports,"clearCanvas",()=>a("532Gy").clearCanvas),e(t.exports,"generateCanvas",()=>a("12ABJ").generateCanvas),a("532Gy"),a("12ABJ")}),i("532Gy",function(t,r){e(t.exports,"clearCanvas",()=>n);let n=e=>{e.clearColor(0,0,0,1),e.clear(e.COLOR_BUFFER_BIT|e.DEPTH_BUFFER_BIT)}}),i("12ABJ",function(t,r){e(t.exports,"generateCanvas",()=>n);let n=()=>{let e=document.getElementById("starfield");if(e)return e;let t=document.querySelector("body"),r=document.createElement("canvas");r.id="starfield";let n={position:"fixed",left:0,top:0,width:"100%",height:"100%","z-index":-10,backgroundImage:"url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABAQMAAAAl21bKAAAAA1BMVEUAAACnej3aAAAACklEQVR4AWNmAAAACAAEbVhFewAAAABJRU5ErkJggg==')"},o={width:t.clientWidth,height:t.clientHeight};for(let e in n)r.style[e]=n[e];for(let e in o)r.setAttribute(e,o[e]);return t.appendChild(r),r}}),i("lnQc8",function(t,r){e(t.exports,"drawFrame",()=>i),a("flxAq");var n=a("532Gy"),o=a("4OGmy");let i=(e,t)=>{(0,n.clearCanvas)(t.gl),e.map(e=>e.getVertex()).forEach(e=>(0,o.drawStar)(e,t))}}),i("4OGmy",function(t,r){e(t.exports,"drawStar",()=>n);let n=(e,t)=>{let{gl:r,positionAttribute:n,colorAttribute:o,vertexBuffer:a,indexBuffer:i,indexArray:l}=t;r.bindBuffer(r.ARRAY_BUFFER,a),r.bufferData(r.ARRAY_BUFFER,new Float32Array(e),r.DYNAMIC_DRAW),r.enableVertexAttribArray(n),r.vertexAttribPointer(n,2,r.FLOAT,!1,24,0),r.enableVertexAttribArray(o),r.vertexAttribPointer(o,4,r.FLOAT,!1,24,8),r.bindBuffer(r.ELEMENT_ARRAY_BUFFER,i),r.bufferData(r.ELEMENT_ARRAY_BUFFER,new Uint16Array(l),r.STATIC_DRAW),r.drawElements(r.TRIANGLES,l.length,r.UNSIGNED_SHORT,0)}}),i("lga8S",function(t,r){e(t.exports,"initBuffers",()=>o);var n=a("39XuV");let o=(e,t)=>{let{gl:r,positionAttribute:o,colorAttribute:a}=(0,n.initGLContext)(e,t),i=r.createBuffer(),l=r.createBuffer();return{gl:r,vertexBuffer:i,indexBuffer:l,indexArray:[0,2,3,0,3,1],colorAttribute:a,positionAttribute:o}}}),i("39XuV",function(t,r){e(t.exports,"initGLContext",()=>o);var n=a("3Wbq3");let o=(e,t)=>{let r=e.getContext("webgl2",{antialias:t.antialiasing}),o=e.clientWidth,a=e.clientHeight;e.width=o,e.height=a;let i=r.createShader(r.VERTEX_SHADER),l=r.createShader(r.FRAGMENT_SHADER);r.shaderSource(i,n.vertexShaderSource),r.shaderSource(l,n.fragmentShaderSource),r.compileShader(i);let s=r.getShaderParameter(i,r.COMPILE_STATUS);if(!s)throw Error(r.getShaderInfoLog(i));if(r.compileShader(l),!(s=r.getShaderParameter(l,r.COMPILE_STATUS)))throw Error(r.getShaderInfoLog(l));let c=r.createProgram();r.attachShader(c,i),r.attachShader(c,l),r.linkProgram(c),r.useProgram(c);let g=r.getAttribLocation(c,"position"),A=r.getAttribLocation(c,"color");r.viewport(0,0,o,a);let f=r.createVertexArray();return r.bindVertexArray(f),{gl:r,positionAttribute:g,colorAttribute:A}}}),i("3Wbq3",function(r,n){e(r.exports,"vertexShaderSource",()=>l),e(r.exports,"fragmentShaderSource",()=>s);var o=a("6eMmY"),i=a("cM284");let l=/*@__PURE__*/t(o),s=/*@__PURE__*/t(i)}),i("6eMmY",function(e,t){e.exports="#version 300 es\n#define GLSLIFY 1\n\nin vec3 position;\nin vec4 color;\n\nout vec4 in_color;\n\nvoid main() {\n  gl_Position = vec4(position, 1.0);\n\n  in_color = color;\n}\n"}),i("cM284",function(e,t){e.exports="#version 300 es\nprecision mediump float;\n#define GLSLIFY 1\n\nin vec4 in_color;\n\nout vec4 color;\n\nvoid main() {\n    color = in_color;\n}\n"}),i("lEXuz",function(t,r){e(t.exports,"generateStars",()=>o);var n=a("g4FYP");let o=(e,t,r)=>{let o=[],a=Math.floor(r*t*(.002*e.starDensity));for(let e=0;e<a;e++)o.push((0,n.getRandomStar)());return o}}),i("g4FYP",function(t,r){e(t.exports,"getRandomStar",()=>g),a("9TAZj");var n=a("8PRK7");a("kcA42");var o=a("jxgY8"),i=a("anHf0"),l=a("7rKMo"),s=a("2WbIl"),c=a("1WOp8");let g=()=>new n.Star((0,i.getRandom)(1,c.COORDINATE_LENGTH),(0,i.getRandom)(1,c.COORDINATE_LENGTH),(0,i.getRandom)(1,4),(0,s.getWeightedRandomSize)(),(0,o.applyRandomShade)((0,l.getWeightedRandomColor)()))}),i("9TAZj",function(t,r){e(t.exports,"Star",()=>a("8PRK7").Star),e(t.exports,"Color",()=>a("5jeig").Color),a("8PRK7"),a("5jeig"),a("1PIpC"),a("iR50U")}),i("8PRK7",function(t,r){e(t.exports,"Star",()=>o);var n=a("1WOp8");class o{x;y;z;size;color;constructor(e,t,r,n,o){this.x=e,this.y=t,this.z=r,this.size=n,this.color=o}move(e){let t=50/this.z,r=(Date.now()-e)/1e3*t,o=this.x-r*n.MOVEMENT_X,a=this.y-r*n.MOVEMENT_Y;o<0?o+=n.COORDINATE_LENGTH:o>n.COORDINATE_LENGTH&&(o-=n.COORDINATE_LENGTH),a<0?a+=n.COORDINATE_LENGTH:a>n.COORDINATE_LENGTH&&(a-=n.COORDINATE_LENGTH),this.x=o,this.y=a}getVertex(){let e=(0,n.normalize)(this.x,0,5e3),t=(0,n.normalize)(this.y,0,5e3),r=(0,n.normalize)(this.size,0,5e3,0),o=e<0?e-r:e+r,a=t<0?t-r:t+r,i={r:(0,n.normalize)(this.color.r,0,255,0),g:(0,n.normalize)(this.color.g,0,255,0),b:(0,n.normalize)(this.color.b,0,255,0)};return[o,a,i.r,i.g,i.b,1,e,a,i.r,i.g,i.b,1,o,t,i.r,i.g,i.b,1,e,t,i.r,i.g,i.b,1]}}}),i("5jeig",function(t,r){e(t.exports,"Color",()=>n);class n{r;g;b;constructor(e,t,r){this.r=e,this.g=t,this.b=r}}}),i("1PIpC",function(e,t){}),i("iR50U",function(e,t){}),i("kcA42",function(t,r){e(t.exports,"applyRandomShade",()=>a("jxgY8").applyRandomShade),e(t.exports,"getRandom",()=>a("anHf0").getRandom),e(t.exports,"getWeightedRandomColor",()=>a("7rKMo").getWeightedRandomColor),e(t.exports,"getWeightedRandomSize",()=>a("2WbIl").getWeightedRandomSize),a("jxgY8"),a("anHf0"),a("4sWwE"),a("1VJ33"),a("7rKMo"),a("2WbIl")}),i("jxgY8",function(t,r){e(t.exports,"applyRandomShade",()=>o);var n=a("4sWwE");let o=e=>{let t=(0,n.getRandomShade)();return 1!==t&&(e.r=Math.floor(e.r*t),e.g=Math.floor(e.g*t),e.b=Math.floor(e.b*t)),e}}),i("4sWwE",function(t,r){e(t.exports,"getRandomShade",()=>o);var n=a("1VJ33");let o=()=>(0,n.getWeightedRandom)([.4,.6,1],[.5,.3,.2])}),i("1VJ33",function(t,r){e(t.exports,"getWeightedRandom",()=>n);let n=(e,t)=>{let r=function(e,t){return Math.random()*(t-e)+e},n=r(0,t.reduce(function(e,t){return e+t})),o=0;for(let r=0;r<e.length;r++)if(o+=t[r],n<=(o=+o.toFixed(2)))return e[r];return e[r(0,e.length)]}}),i("anHf0",function(t,r){e(t.exports,"getRandom",()=>n);let n=(e,t)=>Math.floor(Math.random()*(t+e))}),i("7rKMo",function(t,r){e(t.exports,"getWeightedRandomColor",()=>i),a("9TAZj");var n=a("5jeig"),o=a("1VJ33");let i=()=>{let e=[new n.Color(255,189,111),new n.Color(255,221,180),new n.Color(255,244,232),new n.Color(251,248,255),new n.Color(202,216,255),new n.Color(170,191,255),new n.Color(155,176,255)];return(0,o.getWeightedRandom)(e,[.05,.05,.05,.7,.05,.05,.05])}}),i("2WbIl",function(t,r){e(t.exports,"getWeightedRandomSize",()=>o);var n=a("1VJ33");let o=()=>(0,n.getWeightedRandom)([12,15,18],[.8,.15,.05])}),a("kOHZq");var l=a("1WOp8"),s=a("lnQc8"),c=a("12ABJ"),g=a("lEXuz"),A=a("lga8S");(()=>{let e=l.DEFAULT_STARFIELD_OPTIONS,t=(0,c.generateCanvas)(),r=(0,A.initBuffers)(t,e),n=(0,g.generateStars)(e,t.clientHeight,t.clientWidth);(0,s.drawFrame)(n,r)})();</script> </body></html>