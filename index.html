<!DOCTYPE html><html lang="en"><head><meta charset="utf-8"><meta name="viewport" content="width=device-width, user-scalable=no, initial-scale=1.0, maximum-scale=1.0, minimum-scale=1.0"><meta http-equiv="X-UA-Compatible" content="ie=edge"><title>Starfield WebGL</title><link rel="stylesheet" href="/index.887cf98f.css"><meta name="msapplication-TileColor" content="#000000"><meta name="theme-color" content="#000000"></head><body> <a id="gh-badge" href="https://github.com/lfuelling/starfield-webgl"><img width="149" height="149" src="/badge.2ecf0369.png" alt="Fork starfield-webgl on GitHub"></a> <a href="/single.html">Single Frame Version</a> <noscript>This page requires JavaScript :/</noscript>  <script type="module">function e(e,t,r,n){Object.defineProperty(e,t,{get:r,set:n,enumerable:!0,configurable:!0})}function t(e){return e&&e.__esModule?e.default:e}var r,n=globalThis,o={},a={},i=n.parcelRequire94c2;null==i&&((i=function(e){if(e in o)return o[e].exports;if(e in a){var t=a[e];delete a[e];var r={id:e,exports:{}};return o[e]=r,t.call(r.exports,r,r.exports),r.exports}var n=Error("Cannot find module '"+e+"'");throw n.code="MODULE_NOT_FOUND",n}).register=function(e,t){a[e]=t},n.parcelRequire94c2=i);var l=i.register;l("kOHZq",function(t,r){e(t.exports,"drawFrame",()=>i("lnQc8").drawFrame),e(t.exports,"initBuffers",()=>i("lga8S").initBuffers),e(t.exports,"generateStars",()=>i("lEXuz").generateStars),e(t.exports,"generateCanvas",()=>i("12ABJ").generateCanvas),e(t.exports,"runStarfield",()=>i("ijrJt").runStarfield),e(t.exports,"DEFAULT_STARFIELD_OPTIONS",()=>i("1WOp8").DEFAULT_STARFIELD_OPTIONS),i("6dOSk"),i("1WOp8"),i("lnQc8"),i("12ABJ"),i("lEXuz"),i("lga8S"),i("ijrJt")}),l("6dOSk",function(t,r){e(t.exports,"DEFAULT_STARFIELD_OPTIONS",()=>i("1WOp8").DEFAULT_STARFIELD_OPTIONS),e(t.exports,"runStarfield",()=>i("ijrJt").runStarfield),e(t.exports,"generateCanvas",()=>i("12ABJ").generateCanvas),e(t.exports,"generateStars",()=>i("lEXuz").generateStars),e(t.exports,"initBuffers",()=>i("lga8S").initBuffers),e(t.exports,"drawFrame",()=>i("lnQc8").drawFrame),i("1WOp8"),i("ijrJt"),i("flxAq"),i("12ABJ"),i("lEXuz"),i("lga8S"),i("lnQc8")}),l("1WOp8",function(t,r){e(t.exports,"COORDINATE_LENGTH",()=>n),e(t.exports,"MOVEMENT_X",()=>o),e(t.exports,"MOVEMENT_Y",()=>a),e(t.exports,"DEFAULT_STARFIELD_OPTIONS",()=>i),e(t.exports,"normalize",()=>l);let n=5e3,o=.12,a=.04,i={starDensity:1,mouseScale:1,seedMovement:!0,fpsLimit:30,antialiasing:!0},l=(e,t,r,n=-1,o=1)=>(e-t)/(r-t)*(o-n)+n}),l("ijrJt",function(t,r){e(t.exports,"runStarfield",()=>f),i("flxAq");var n=i("12ABJ"),o=i("lnQc8"),a=i("lga8S"),l=i("1WOp8"),s=i("lEXuz");let f=e=>{let t={...l.DEFAULT_STARFIELD_OPTIONS,...e},r=(0,n.generateCanvas)(),i=(0,a.initBuffers)(r,t),f=Date.now(),c=(0,s.generateStars)(t,r.clientHeight,r.clientWidth),d=0,u=()=>{requestAnimationFrame(e=>{var r;r=e-d,(t.fpsLimit<=0||!(r<1e3/(t.fpsLimit+1)))&&("function"==typeof t.onBeforeDraw&&t.onBeforeDraw(),d=e,c.forEach(e=>e.move(f)),f=Date.now(),(0,o.drawFrame)(c,i),"function"==typeof t.onAfterDraw&&t.onAfterDraw()),u()})};u()}}),l("flxAq",function(t,r){e(t.exports,"clearCanvas",()=>i("532Gy").clearCanvas),e(t.exports,"generateCanvas",()=>i("12ABJ").generateCanvas),i("532Gy"),i("12ABJ")}),l("532Gy",function(t,r){e(t.exports,"clearCanvas",()=>n);let n=e=>{e.clearColor(0,0,0,1),e.clear(e.COLOR_BUFFER_BIT|e.DEPTH_BUFFER_BIT)}}),l("12ABJ",function(t,r){e(t.exports,"generateCanvas",()=>n);let n=()=>{let e=document.getElementById("starfield");if(e)return e;let t=document.querySelector("body"),r=document.createElement("canvas");r.id="starfield";let n={position:"fixed",left:0,top:0,width:"100%",height:"100%","z-index":-10,backgroundImage:"url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABAQMAAAAl21bKAAAAA1BMVEUAAACnej3aAAAACklEQVR4AWNmAAAACAAEbVhFewAAAABJRU5ErkJggg==')"},o={width:t.clientWidth,height:t.clientHeight};for(let e in n)r.style[e]=n[e];for(let e in o)r.setAttribute(e,o[e]);return t.appendChild(r),r}}),l("lnQc8",function(t,r){e(t.exports,"drawFrame",()=>a),i("flxAq");var n=i("532Gy"),o=i("4OGmy");let a=(e,t)=>{(0,n.clearCanvas)(t.gl),e.map(e=>e.getVertex()).forEach(e=>(0,o.drawStar)(e,t))}}),l("4OGmy",function(t,r){e(t.exports,"drawStar",()=>n);let n=(e,t)=>{let{gl:r,positionAttribute:n,colorAttribute:o,vertexBuffer:a,indexBuffer:i,indexArray:l}=t;r.bindBuffer(r.ARRAY_BUFFER,a),r.bufferData(r.ARRAY_BUFFER,new Float32Array(e),r.DYNAMIC_DRAW),r.enableVertexAttribArray(n),r.vertexAttribPointer(n,2,r.FLOAT,!1,24,0),r.enableVertexAttribArray(o),r.vertexAttribPointer(o,4,r.FLOAT,!1,24,8),r.bindBuffer(r.ELEMENT_ARRAY_BUFFER,i),r.bufferData(r.ELEMENT_ARRAY_BUFFER,new Uint16Array(l),r.STATIC_DRAW),r.drawElements(r.TRIANGLES,l.length,r.UNSIGNED_SHORT,0)}}),l("lga8S",function(t,r){e(t.exports,"initBuffers",()=>o);var n=i("39XuV");let o=(e,t)=>{let{gl:r,positionAttribute:o,colorAttribute:a}=(0,n.initGLContext)(e,t),i=r.createBuffer(),l=r.createBuffer();return{gl:r,vertexBuffer:i,indexBuffer:l,indexArray:[0,2,3,0,3,1],colorAttribute:a,positionAttribute:o}}}),l("39XuV",function(t,r){e(t.exports,"initGLContext",()=>o);var n=i("3Wbq3");let o=(e,t)=>{let r=e.getContext("webgl2",{antialias:t.antialiasing}),o=e.clientWidth,a=e.clientHeight;e.width=o,e.height=a;let i=r.createShader(r.VERTEX_SHADER),l=r.createShader(r.FRAGMENT_SHADER);r.shaderSource(i,n.vertexShaderSource),r.shaderSource(l,n.fragmentShaderSource),r.compileShader(i);let s=r.getShaderParameter(i,r.COMPILE_STATUS);if(!s)throw Error(r.getShaderInfoLog(i));if(r.compileShader(l),!(s=r.getShaderParameter(l,r.COMPILE_STATUS)))throw Error(r.getShaderInfoLog(l));let f=r.createProgram();r.attachShader(f,i),r.attachShader(f,l),r.linkProgram(f),r.useProgram(f);let c=r.getAttribLocation(f,"position"),d=r.getAttribLocation(f,"color");r.viewport(0,0,o,a);let u=r.createVertexArray();return r.bindVertexArray(u),{gl:r,positionAttribute:c,colorAttribute:d}}}),l("3Wbq3",function(r,n){e(r.exports,"vertexShaderSource",()=>l),e(r.exports,"fragmentShaderSource",()=>s);var o=i("6eMmY"),a=i("cM284");let l=/*@__PURE__*/t(o),s=/*@__PURE__*/t(a)}),l("6eMmY",function(e,t){e.exports="#version 300 es\n#define GLSLIFY 1\n\nin vec3 position;\nin vec4 color;\n\nout vec4 in_color;\n\nvoid main() {\n  gl_Position = vec4(position, 1.0);\n\n  in_color = color;\n}\n"}),l("cM284",function(e,t){e.exports="#version 300 es\nprecision mediump float;\n#define GLSLIFY 1\n\nin vec4 in_color;\n\nout vec4 color;\n\nvoid main() {\n    color = in_color;\n}\n"}),l("lEXuz",function(t,r){e(t.exports,"generateStars",()=>o);var n=i("g4FYP");let o=(e,t,r)=>{let o=[],a=Math.floor(r*t*(.002*e.starDensity));for(let e=0;e<a;e++)o.push((0,n.getRandomStar)());return o}}),l("g4FYP",function(t,r){e(t.exports,"getRandomStar",()=>c),i("9TAZj");var n=i("8PRK7");i("kcA42");var o=i("jxgY8"),a=i("anHf0"),l=i("7rKMo"),s=i("2WbIl"),f=i("1WOp8");let c=()=>new n.Star((0,a.getRandom)(1,f.COORDINATE_LENGTH),(0,a.getRandom)(1,f.COORDINATE_LENGTH),(0,a.getRandom)(1,4),(0,s.getWeightedRandomSize)(),(0,o.applyRandomShade)((0,l.getWeightedRandomColor)()))}),l("9TAZj",function(t,r){e(t.exports,"Star",()=>i("8PRK7").Star),e(t.exports,"Color",()=>i("5jeig").Color),i("8PRK7"),i("5jeig"),i("1PIpC"),i("iR50U")}),l("8PRK7",function(t,r){e(t.exports,"Star",()=>o);var n=i("1WOp8");class o{x;y;z;size;color;constructor(e,t,r,n,o){this.x=e,this.y=t,this.z=r,this.size=n,this.color=o}move(e){let t=50/this.z,r=(Date.now()-e)/1e3*t,o=this.x-r*n.MOVEMENT_X,a=this.y-r*n.MOVEMENT_Y;o<0?o+=n.COORDINATE_LENGTH:o>n.COORDINATE_LENGTH&&(o-=n.COORDINATE_LENGTH),a<0?a+=n.COORDINATE_LENGTH:a>n.COORDINATE_LENGTH&&(a-=n.COORDINATE_LENGTH),this.x=o,this.y=a}getVertex(){let e=(0,n.normalize)(this.x,0,5e3),t=(0,n.normalize)(this.y,0,5e3),r=(0,n.normalize)(this.size,0,5e3,0),o=e<0?e-r:e+r,a=t<0?t-r:t+r,i={r:(0,n.normalize)(this.color.r,0,255,0),g:(0,n.normalize)(this.color.g,0,255,0),b:(0,n.normalize)(this.color.b,0,255,0)};return[o,a,i.r,i.g,i.b,1,e,a,i.r,i.g,i.b,1,o,t,i.r,i.g,i.b,1,e,t,i.r,i.g,i.b,1]}}}),l("5jeig",function(t,r){e(t.exports,"Color",()=>n);class n{r;g;b;constructor(e,t,r){this.r=e,this.g=t,this.b=r}}}),l("1PIpC",function(e,t){}),l("iR50U",function(e,t){}),l("kcA42",function(t,r){e(t.exports,"applyRandomShade",()=>i("jxgY8").applyRandomShade),e(t.exports,"getRandom",()=>i("anHf0").getRandom),e(t.exports,"getWeightedRandomColor",()=>i("7rKMo").getWeightedRandomColor),e(t.exports,"getWeightedRandomSize",()=>i("2WbIl").getWeightedRandomSize),i("jxgY8"),i("anHf0"),i("4sWwE"),i("1VJ33"),i("7rKMo"),i("2WbIl")}),l("jxgY8",function(t,r){e(t.exports,"applyRandomShade",()=>o);var n=i("4sWwE");let o=e=>{let t=(0,n.getRandomShade)();return 1!==t&&(e.r=Math.floor(e.r*t),e.g=Math.floor(e.g*t),e.b=Math.floor(e.b*t)),e}}),l("4sWwE",function(t,r){e(t.exports,"getRandomShade",()=>o);var n=i("1VJ33");let o=()=>(0,n.getWeightedRandom)([.4,.6,1],[.5,.3,.2])}),l("1VJ33",function(t,r){e(t.exports,"getWeightedRandom",()=>n);let n=(e,t)=>{let r=function(e,t){return Math.random()*(t-e)+e},n=r(0,t.reduce(function(e,t){return e+t})),o=0;for(let r=0;r<e.length;r++)if(o+=t[r],n<=(o=+o.toFixed(2)))return e[r];return e[r(0,e.length)]}}),l("anHf0",function(t,r){e(t.exports,"getRandom",()=>n);let n=(e,t)=>Math.floor(Math.random()*(t+e))}),l("7rKMo",function(t,r){e(t.exports,"getWeightedRandomColor",()=>a),i("9TAZj");var n=i("5jeig"),o=i("1VJ33");let a=()=>{let e=[new n.Color(255,189,111),new n.Color(255,221,180),new n.Color(255,244,232),new n.Color(251,248,255),new n.Color(202,216,255),new n.Color(170,191,255),new n.Color(155,176,255)];return(0,o.getWeightedRandom)(e,[.05,.05,.05,.7,.05,.05,.05])}}),l("2WbIl",function(t,r){e(t.exports,"getWeightedRandomSize",()=>o);var n=i("1VJ33");let o=()=>(0,n.getWeightedRandom)([12,15,18],[.8,.15,.05])});var s={};(r=function(){function e(e){return o.appendChild(e.dom),e}function t(e){for(var t=0;t<o.children.length;t++)o.children[t].style.display=t===e?"block":"none";n=e}var n=0,o=document.createElement("div");o.style.cssText="position:fixed;top:0;left:0;cursor:pointer;opacity:0.9;z-index:10000",o.addEventListener("click",function(e){e.preventDefault(),t(++n%o.children.length)},!1);var a=(performance||Date).now(),i=a,l=0,s=e(new r.Panel("FPS","#0ff","#002")),f=e(new r.Panel("MS","#0f0","#020"));if(self.performance&&self.performance.memory)var c=e(new r.Panel("MB","#f08","#201"));return t(0),{REVISION:16,dom:o,addPanel:e,showPanel:t,begin:function(){a=(performance||Date).now()},end:function(){l++;var e=(performance||Date).now();if(f.update(e-a,200),e>i+1e3&&(s.update(1e3*l/(e-i),100),i=e,l=0,c)){var t=performance.memory;c.update(t.usedJSHeapSize/1048576,t.jsHeapSizeLimit/1048576)}return e},update:function(){a=this.end()},domElement:o,setMode:t}}).Panel=function(e,t,r){var n=1/0,o=0,a=Math.round,i=a(window.devicePixelRatio||1),l=80*i,s=48*i,f=3*i,c=2*i,d=3*i,u=15*i,g=74*i,A=30*i,p=document.createElement("canvas");p.width=l,p.height=s,p.style.cssText="width:80px;height:48px";var h=p.getContext("2d");return h.font="bold "+9*i+"px Helvetica,Arial,sans-serif",h.textBaseline="top",h.fillStyle=r,h.fillRect(0,0,l,s),h.fillStyle=t,h.fillText(e,f,c),h.fillRect(d,u,g,A),h.fillStyle=r,h.globalAlpha=.9,h.fillRect(d,u,g,A),{dom:p,update:function(s,m){n=Math.min(n,s),o=Math.max(o,s),h.fillStyle=r,h.globalAlpha=1,h.fillRect(0,0,l,u),h.fillStyle=t,h.fillText(a(s)+" "+e+" ("+a(n)+"-"+a(o)+")",f,c),h.drawImage(p,d+i,u,g-i,A,d,u,g-i,A),h.fillRect(d+g-i,u,i,A),h.fillStyle=r,h.globalAlpha=.9,h.fillRect(d+g-i,u,i,a((1-s/m)*A))}}},s=r,i("kOHZq");var f=i("ijrJt");(()=>{let e=new/*@__PURE__*/(t(s));e.showPanel(0),document.body.appendChild(e.dom),(0,f.runStarfield)({onBeforeDraw:()=>e.begin(),onAfterDraw:()=>e.end()})})();</script> </body></html>