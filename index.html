<!DOCTYPE html><html lang="en"><head><meta charset="utf-8"><meta name="viewport" content="width=device-width, user-scalable=no, initial-scale=1.0, maximum-scale=1.0, minimum-scale=1.0"><meta http-equiv="X-UA-Compatible" content="ie=edge"><title>Starfield WebGL</title><link rel="stylesheet" href="/index.f561f9db.css"><meta name="msapplication-TileColor" content="#000000"><meta name="theme-color" content="#000000"></head><body> <a id="gh-badge" href="https://github.com/lfuelling/starfield-webgl"><img width="149" height="149" src="/badge.2ecf0369.png" alt="Fork starfield-webgl on GitHub"></a> <noscript>This page requires JavaScript :/</noscript>  <script type="module">var e="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:{},t={},r={},n=e.parcelRequirea2fa;null==n&&((n=function(e){if(e in t)return t[e].exports;if(e in r){var n=r[e];delete r[e];var o={id:e,exports:{}};return t[e]=o,n.call(o.exports,o,o.exports),o.exports}var i=new Error("Cannot find module '"+e+"'");throw i.code="MODULE_NOT_FOUND",i}).register=function(e,t){r[e]=t},e.parcelRequirea2fa=n),n.register("c8CJQ",(function(e,t){var r;e.exports,e.exports=(r=function(){function e(e){return o.appendChild(e.dom),e}function t(e){for(var t=0;t<o.children.length;t++)o.children[t].style.display=t===e?"block":"none";n=e}var n=0,o=document.createElement("div");o.style.cssText="position:fixed;top:0;left:0;cursor:pointer;opacity:0.9;z-index:10000",o.addEventListener("click",(function(e){e.preventDefault(),t(++n%o.children.length)}),!1);var i=(performance||Date).now(),a=i,l=0,c=e(new r.Panel("FPS","#0ff","#002")),s=e(new r.Panel("MS","#0f0","#020"));if(self.performance&&self.performance.memory)var d=e(new r.Panel("MB","#f08","#201"));return t(0),{REVISION:16,dom:o,addPanel:e,showPanel:t,begin:function(){i=(performance||Date).now()},end:function(){l++;var e=(performance||Date).now();if(s.update(e-i,200),e>a+1e3&&(c.update(1e3*l/(e-a),100),a=e,l=0,d)){var t=performance.memory;d.update(t.usedJSHeapSize/1048576,t.jsHeapSizeLimit/1048576)}return e},update:function(){i=this.end()},domElement:o,setMode:t}},r.Panel=function(e,t,r){var n=1/0,o=0,i=Math.round,a=i(window.devicePixelRatio||1),l=80*a,c=48*a,s=3*a,d=2*a,f=3*a,u=15*a,h=74*a,A=30*a,g=document.createElement("canvas");g.width=l,g.height=c,g.style.cssText="width:80px;height:48px";var m=g.getContext("2d");return m.font="bold "+9*a+"px Helvetica,Arial,sans-serif",m.textBaseline="top",m.fillStyle=r,m.fillRect(0,0,l,c),m.fillStyle=t,m.fillText(e,s,d),m.fillRect(f,u,h,A),m.fillStyle=r,m.globalAlpha=.9,m.fillRect(f,u,h,A),{dom:g,update:function(c,E){n=Math.min(n,c),o=Math.max(o,c),m.fillStyle=r,m.globalAlpha=1,m.fillRect(0,0,l,u),m.fillStyle=t,m.fillText(i(c)+" "+e+" ("+i(n)+"-"+i(o)+")",s,d),m.drawImage(g,f+a,u,h-a,A,f,u,h-a,A),m.fillRect(f+h-a,u,a,A),m.fillStyle=r,m.globalAlpha=.9,m.fillRect(f+h-a,u,a,i((1-c/E)*A))}}},r)})),n.register("6eMmY",(function(e,t){e.exports="#version 300 es\n#define GLSLIFY 1\n\nin vec3 position;\nin vec4 color;\n\nout vec4 in_color;\n\nvoid main() {\n  gl_Position = vec4(position, 1.0);\n\n  in_color = color;\n}\n"})),n.register("cM284",(function(e,t){e.exports="#version 300 es\nprecision mediump float;\n#define GLSLIFY 1\n\nin vec4 in_color;\n\nout vec4 color;\n\nvoid main() {\n    color = in_color;\n}\n"}));var o,i=(o=n("c8CJQ"))&&o.__esModule?o:{default:o},a={};Object.defineProperty(a,"__esModule",{value:!0}),a.runStarfield=void 0;var l={};Object.defineProperty(l,"__esModule",{value:!0}),l.generateStars=l.generateCanvas=l.clearCanvas=l.MOVEMENT_Y=l.MOVEMENT_X=l.COORDINATE_LENGTH=void 0,l.initGLContext=function(e,t){const r=e.getContext("webgl2",{antialias:t.antialiasing}),n=e.clientWidth,o=e.clientHeight;e.width=n,e.height=o;const i=r.createShader(r.VERTEX_SHADER),a=r.createShader(r.FRAGMENT_SHADER);r.shaderSource(i,c.vertexShaderSource),r.shaderSource(a,c.fragmentShaderSource),r.compileShader(i);let l=r.getShaderParameter(i,r.COMPILE_STATUS);if(!l)throw new Error(r.getShaderInfoLog(i));if(r.compileShader(a),l=r.getShaderParameter(a,r.COMPILE_STATUS),!l)throw new Error(r.getShaderInfoLog(a));const s=r.createProgram();r.attachShader(s,i),r.attachShader(s,a),r.linkProgram(s),r.useProgram(s);const d=r.getAttribLocation(s,"position"),f=r.getAttribLocation(s,"color");r.viewport(0,0,n,o);const u=r.createVertexArray();return r.bindVertexArray(u),{gl:r,positionAttribute:d,colorAttribute:f}},l.normalize=void 0;var c={};Object.defineProperty(c,"__esModule",{value:!0}),c.vertexShaderSource=c.fragmentShaderSource=void 0;var s=f(n("6eMmY")),d=f(n("cM284"));function f(e){return e&&e.__esModule?e:{default:e}}const u=s.default;c.vertexShaderSource=u;const h=d.default;c.fragmentShaderSource=h;var A={};Object.defineProperty(A,"__esModule",{value:!0}),A.getRandomStar=void 0;var g={};function m(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}Object.defineProperty(g,"__esModule",{value:!0}),g.Star=g.Color=void 0;g.Color=class{constructor(e,t,r){m(this,"r",void 0),m(this,"g",void 0),m(this,"b",void 0),this.r=e,this.g=t,this.b=r}};g.Star=class{constructor(e,t,r,n,o){m(this,"x",void 0),m(this,"y",void 0),m(this,"z",void 0),m(this,"size",void 0),m(this,"color",void 0),this.x=e,this.y=t,this.z=r,this.size=n,this.color=o}move(e){const t=50/this.z*((Date.now()-e)/1e3);let r=this.x-t*l.MOVEMENT_X,n=this.y-t*l.MOVEMENT_Y;r<0?r+=l.COORDINATE_LENGTH:r>l.COORDINATE_LENGTH&&(r-=l.COORDINATE_LENGTH),n<0?n+=l.COORDINATE_LENGTH:n>l.COORDINATE_LENGTH&&(n-=l.COORDINATE_LENGTH),this.x=r,this.y=n}getVertex(){const e=(0,l.normalize)(this.x,0,5e3),t=(0,l.normalize)(this.y,0,5e3);let r=(0,l.normalize)(this.size,0,5e3,0);const n=e<0?e-r:e+r,o=t<0?t-r:t+r,i={r:(0,l.normalize)(this.color.r,0,255,0),g:(0,l.normalize)(this.color.g,0,255,0),b:(0,l.normalize)(this.color.b,0,255,0)};return[n,o,i.r,i.g,i.b,1,e,o,i.r,i.g,i.b,1,n,t,i.r,i.g,i.b,1,e,t,i.r,i.g,i.b,1]}};const E=(e,t)=>{const r=function(e,t){return Math.random()*(t-e)+e},n=r(0,t.reduce((function(e,t){return e+t})));let o=0;for(let r=0;r<e.length;r++)if(o+=t[r],o=+o.toFixed(2),n<=o)return e[r];return e[r(0,e.length)]},v=e=>{const t=E([.4,.6,1],[.5,.3,.2]);return 1!==t&&(e.r=Math.floor(e.r*t),e.g=Math.floor(e.g*t),e.b=Math.floor(e.b*t)),e},p=(e,t)=>Math.floor(Math.random()*(t+e));A.getRandomStar=()=>new g.Star(p(1,l.COORDINATE_LENGTH),p(1,l.COORDINATE_LENGTH),p(1,4),E([12,15,18],[.8,.15,.05]),v((()=>{const e=[new g.Color(255,189,111),new g.Color(255,221,180),new g.Color(255,244,232),new g.Color(251,248,255),new g.Color(202,216,255),new g.Color(170,191,255),new g.Color(155,176,255)];return E(e,[.05,.05,.05,.7,.05,.05,.05])})()));l.COORDINATE_LENGTH=5e3;l.MOVEMENT_X=.12;l.MOVEMENT_Y=.04;l.generateCanvas=()=>{const e=document.getElementById("starfield");if(e)return e;const t=document.querySelector("body"),r=document.createElement("canvas");r.id="starfield";const n={position:"fixed",left:0,top:0,width:"100%",height:"100%","z-index":-10,backgroundImage:"url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABAQMAAAAl21bKAAAAA1BMVEUAAACnej3aAAAACklEQVR4AWNmAAAACAAEbVhFewAAAABJRU5ErkJggg==')"},o={width:t.clientWidth,height:t.clientHeight};for(const e in n)r.style[e]=n[e];for(let e in o)r.setAttribute(e,o[e]);return t.appendChild(r),r};l.generateStars=function(e,t){const r=[],n=t.clientWidth*t.clientHeight,o=.002*e.starDensity,i=Math.floor(n*o);for(let e=0;e<i;e++)r.push((0,A.getRandomStar)());return r};l.normalize=function(e,t,r){let n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:-1,o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:1;const i=o-n,a=e-t,l=r-t,c=a/l;return i*c+n};l.clearCanvas=e=>{e.clearColor(0,0,0,1),e.clear(e.COLOR_BUFFER_BIT|e.DEPTH_BUFFER_BIT)};a.runStarfield=e=>{const t={starDensity:1,mouseScale:1,seedMovement:!0,fpsLimit:30,antialiasing:!0,...e},r=(0,l.generateCanvas)(),{gl:n,positionAttribute:o,colorAttribute:i}=(0,l.initGLContext)(r,t),a=n.createBuffer(),c=n.createBuffer(),s=[0,2,3,0,3,1];let d=Date.now(),f=(0,l.generateStars)(t,r);const u=e=>{n.bindBuffer(n.ARRAY_BUFFER,a),n.bufferData(n.ARRAY_BUFFER,new Float32Array(e),n.DYNAMIC_DRAW),n.enableVertexAttribArray(o),n.vertexAttribPointer(o,2,n.FLOAT,!1,24,0),n.enableVertexAttribArray(i),n.vertexAttribPointer(i,4,n.FLOAT,!1,24,8),n.bindBuffer(n.ELEMENT_ARRAY_BUFFER,c),n.bufferData(n.ELEMENT_ARRAY_BUFFER,new Uint16Array(s),n.STATIC_DRAW),n.drawElements(n.TRIANGLES,s.length,n.UNSIGNED_SHORT,0)};let h=0;const A=()=>{requestAnimationFrame((e=>{(function(e){return e<1e3/(t.fpsLimit+1)})(e-h)||("function"==typeof t.onBeforeDraw&&t.onBeforeDraw(),f.forEach((e=>e.move(d))),d=Date.now(),(0,l.clearCanvas)(n),f.map((e=>e.getVertex())).forEach(u),h=e,"function"==typeof t.onAfterDraw&&t.onAfterDraw()),A()}))};A()},(()=>{const e=new i.default;e.showPanel(0),document.body.appendChild(e.dom),(0,a.runStarfield)({onBeforeDraw:()=>e.begin(),onAfterDraw:()=>e.end()})})();</script> </body></html>