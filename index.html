<!DOCTYPE html><html lang="en"><head><meta charset="utf-8"><meta name="viewport" content="width=device-width, user-scalable=no, initial-scale=1.0, maximum-scale=1.0, minimum-scale=1.0"><meta http-equiv="X-UA-Compatible" content="ie=edge"><title>Starfield WebGL</title><link rel="stylesheet" href="/index.f561f9db.css"><meta name="msapplication-TileColor" content="#000000"><meta name="theme-color" content="#000000"></head><body> <a id="gh-badge" href="https://github.com/lfuelling/starfield-webgl"><img width="149" height="149" src="/badge.2ecf0369.png" alt="Fork starfield-webgl on GitHub"></a> <noscript>This page requires JavaScript :/</noscript>  <script type="module">function e(e){return e&&e.__esModule?e.default:e}var t,n={};t=function(){function e(e){return o.appendChild(e.dom),e}function n(e){for(var t=0;t<o.children.length;t++)o.children[t].style.display=t===e?"block":"none";r=e}var r=0,o=document.createElement("div");o.style.cssText="position:fixed;top:0;left:0;cursor:pointer;opacity:0.9;z-index:10000",o.addEventListener("click",(function(e){e.preventDefault(),n(++r%o.children.length)}),!1);var i=(performance||Date).now(),a=i,l=0,c=e(new t.Panel("FPS","#0ff","#002")),s=e(new t.Panel("MS","#0f0","#020"));if(self.performance&&self.performance.memory)var f=e(new t.Panel("MB","#f08","#201"));return n(0),{REVISION:16,dom:o,addPanel:e,showPanel:n,begin:function(){i=(performance||Date).now()},end:function(){l++;var e=(performance||Date).now();if(s.update(e-i,200),e>a+1e3&&(c.update(1e3*l/(e-a),100),a=e,l=0,f)){var t=performance.memory;f.update(t.usedJSHeapSize/1048576,t.jsHeapSizeLimit/1048576)}return e},update:function(){i=this.end()},domElement:o,setMode:n}},t.Panel=function(e,t,n){var r=1/0,o=0,i=Math.round,a=i(window.devicePixelRatio||1),l=80*a,c=48*a,s=3*a,f=2*a,d=3*a,h=15*a,A=74*a,u=30*a,g=document.createElement("canvas");g.width=l,g.height=c,g.style.cssText="width:80px;height:48px";var m=g.getContext("2d");return m.font="bold "+9*a+"px Helvetica,Arial,sans-serif",m.textBaseline="top",m.fillStyle=n,m.fillRect(0,0,l,c),m.fillStyle=t,m.fillText(e,s,f),m.fillRect(d,h,A,u),m.fillStyle=n,m.globalAlpha=.9,m.fillRect(d,h,A,u),{dom:g,update:function(c,p){r=Math.min(r,c),o=Math.max(o,c),m.fillStyle=n,m.globalAlpha=1,m.fillRect(0,0,l,h),m.fillStyle=t,m.fillText(i(c)+" "+e+" ("+i(r)+"-"+i(o)+")",s,f),m.drawImage(g,d+a,h,A-a,u,d,h,A-a,u),m.fillRect(d+A-a,h,a,u),m.fillStyle=n,m.globalAlpha=.9,m.fillRect(d+A-a,h,a,i((1-c/p)*u))}}},n=t;const r=e("#version 300 es\n#define GLSLIFY 1\n\nin vec3 position;\nin vec4 color;\n\nout vec4 in_color;\n\nvoid main() {\n  gl_Position = vec4(position, 1.0);\n\n  in_color = color;\n}\n"),o=e("#version 300 es\nprecision mediump float;\n#define GLSLIFY 1\n\nin vec4 in_color;\n\nout vec4 color;\n\nvoid main() {\n    color = in_color;\n}\n");class i{constructor(e,t,n){this.r=e,this.g=t,this.b=n}}class a{constructor(e,t,n,r,o){this.x=e,this.y=t,this.z=n,this.size=r,this.color=o}move(e){const t=50/this.z*((Date.now()-e)/1e3);let n=this.x-t*h,r=this.y-t*A;n<0?n+=d:n>d&&(n-=d),r<0?r+=d:r>d&&(r-=d),this.x=n,this.y=r}getVertex(){const e=u(this.x,0,5e3),t=u(this.y,0,5e3);let n=u(this.size,0,5e3,0);const r=e<0?e-n:e+n,o=t<0?t-n:t+n,i={r:u(this.color.r,0,255,0),g:u(this.color.g,0,255,0),b:u(this.color.b,0,255,0)};return[r,o,i.r,i.g,i.b,1,e,o,i.r,i.g,i.b,1,r,t,i.r,i.g,i.b,1,e,t,i.r,i.g,i.b,1]}}const l=(e,t)=>{const n=function(e,t){return Math.random()*(t-e)+e},r=n(0,t.reduce((function(e,t){return e+t})));let o=0;for(let n=0;n<e.length;n++)if(o+=t[n],o=+o.toFixed(2),r<=o)return e[n];return e[n(0,e.length)]},c=e=>{const t=l([.4,.6,1],[.5,.3,.2]);return 1!==t&&(e.r=Math.floor(e.r*t),e.g=Math.floor(e.g*t),e.b=Math.floor(e.b*t)),e},s=(e,t)=>Math.floor(Math.random()*(t+e)),f=()=>new a(s(1,d),s(1,d),s(1,4),l([12,15,18],[.8,.15,.05]),c((()=>{const e=[new i(255,189,111),new i(255,221,180),new i(255,244,232),new i(251,248,255),new i(202,216,255),new i(170,191,255),new i(155,176,255)];return l(e,[.05,.05,.05,.7,.05,.05,.05])})())),d=5e3,h=.12,A=.04;const u=(e,t,n,r=-1,o=1)=>(o-r)*((e-t)/(n-t))+r,g=e=>{const t={starDensity:1,mouseScale:1,seedMovement:!0,fpsLimit:30,antialiasing:!0,...e},n=(()=>{const e=document.getElementById("starfield");if(e)return e;const t=document.querySelector("body"),n=document.createElement("canvas");n.id="starfield";const r={position:"fixed",left:0,top:0,width:"100%",height:"100%","z-index":-10,backgroundImage:"url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABAQMAAAAl21bKAAAAA1BMVEUAAACnej3aAAAACklEQVR4AWNmAAAACAAEbVhFewAAAABJRU5ErkJggg==')"},o={width:t.clientWidth,height:t.clientHeight};for(const e in r)n.style[e]=r[e];for(let e in o)n.setAttribute(e,o[e]);return t.appendChild(n),n})(),{gl:i,positionAttribute:a,colorAttribute:l}=function(e,t){const n=e.getContext("webgl2",{antialias:t.antialiasing}),i=e.clientWidth,a=e.clientHeight;e.width=i,e.height=a;const l=n.createShader(n.VERTEX_SHADER),c=n.createShader(n.FRAGMENT_SHADER);n.shaderSource(l,r),n.shaderSource(c,o),n.compileShader(l);let s=n.getShaderParameter(l,n.COMPILE_STATUS);if(!s)throw new Error(n.getShaderInfoLog(l));if(n.compileShader(c),s=n.getShaderParameter(c,n.COMPILE_STATUS),!s)throw new Error(n.getShaderInfoLog(c));const f=n.createProgram();n.attachShader(f,l),n.attachShader(f,c),n.linkProgram(f),n.useProgram(f);const d=n.getAttribLocation(f,"position"),h=n.getAttribLocation(f,"color");n.viewport(0,0,i,a);const A=n.createVertexArray();return n.bindVertexArray(A),{gl:n,positionAttribute:d,colorAttribute:h}}(n,t),c=i.createBuffer(),s=i.createBuffer(),d=[0,2,3,0,3,1];let h=Date.now(),A=function(e,t){const n=[],r=t.clientWidth*t.clientHeight,o=.002*e.starDensity,i=Math.floor(r*o);for(let e=0;e<i;e++)n.push(f());return n}(t,n);const u=e=>{i.bindBuffer(i.ARRAY_BUFFER,c),i.bufferData(i.ARRAY_BUFFER,new Float32Array(e),i.DYNAMIC_DRAW),i.enableVertexAttribArray(a),i.vertexAttribPointer(a,2,i.FLOAT,!1,24,0),i.enableVertexAttribArray(l),i.vertexAttribPointer(l,4,i.FLOAT,!1,24,8),i.bindBuffer(i.ELEMENT_ARRAY_BUFFER,s),i.bufferData(i.ELEMENT_ARRAY_BUFFER,new Uint16Array(d),i.STATIC_DRAW),i.drawElements(i.TRIANGLES,d.length,i.UNSIGNED_SHORT,0)};let g=0;const m=()=>{requestAnimationFrame((e=>{(function(e){return e<1e3/(t.fpsLimit+1)})(e-g)||("function"==typeof t.onBeforeDraw&&t.onBeforeDraw(),A.forEach((e=>e.move(h))),h=Date.now(),(e=>{e.clearColor(0,0,0,1),e.clear(e.COLOR_BUFFER_BIT|e.DEPTH_BUFFER_BIT)})(i),A.map((e=>e.getVertex())).forEach(u),g=e,"function"==typeof t.onAfterDraw&&t.onAfterDraw()),m()}))};m()};(()=>{const t=new(e(n));t.showPanel(0),document.body.appendChild(t.dom),g({onBeforeDraw:()=>t.begin(),onAfterDraw:()=>t.end()})})();</script> </body></html>